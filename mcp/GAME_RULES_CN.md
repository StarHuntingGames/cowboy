# Cowboy 游戏规则 — AI 玩家快速参考

## 地图

- 由 行 x 列 组成的网格（通常为 11x11）。
- 格子值：`0` = 空地/可通行，`-1` = 不可摧毁的墙壁，`N > 0` = 可摧毁方块（生命值 = N）。
- 玩家：A、B、C、D。最后存活的玩家获胜。

## 操作

每回合，玩家必须选择一个操作：

### move \<方向\>
- 向指定方向（上/下/左/右）移动恰好 1 格。
- **以下情况非法：** 目标格子超出边界、是墙壁/方块（格子值 != 0）、或被其他玩家占据。

### shield \<方向\>
- 将护盾设置为朝向指定方向。
- 护盾可以阻挡来袭的激光扫射（见下方"护盾阻挡"）。

### shoot \<方向\>

> **!!! 关键：射击是 T 字形的，不是直线 !!!**

- 激光进入选定方向的**相邻格子**，然后从该格子向**两个垂直方向**扫射，形成 **T 字形**。
- **`shoot right`（向右射击）** → 激光到达你右边紧邻的格子，然后从该格子向**上**和**下**扫射。不会继续向右！
- **`shoot up`（向上射击）** → 激光到达你上方紧邻的格子，然后从该格子向**左**和**右**扫射。不会继续向上！
- **`shoot left`（向左射击）** → 激光到达你左边紧邻的格子，然后从该格子向**上**和**下**扫射。
- **`shoot down`（向下射击）** → 激光到达你下方紧邻的格子，然后从该格子向**左**和**右**扫射。
- 每条垂直扫射线会持续前进，直到碰到墙壁或玩家。

> **你无法通过直线射击命中玩家。**
> **你必须调整位置，使垂直扫射线经过目标所在的格子。**

- **以下情况非法：**
  - 选定方向的相邻格子超出边界、是墙壁、或被其他玩家占据。
  - 射击方向与当前护盾朝向相同。

> **!!! 绝对规则：不能向被占据的相邻格子射击 !!!**
>
> 如果你的相邻格子有人（或有墙壁/方块），你**不能**向那个方向射击。相邻格子**必须**完全为空，激光才能进入。
>
> - 上方有玩家？**`shoot up` 非法。**
> - 下方有玩家？**`shoot down` 非法。**
> - 左方有玩家？**`shoot left` 非法。**
> - 右方有玩家？**`shoot right` 非法。**
>
> **你必须选择其他射击方向或先重新调整位置。**

### speak \<文本\>
- 发送聊天消息（最多 140 个字符）。不需要方向参数。

## 伤害

- 每条垂直扫射线可以独立命中**一个目标**（墙壁或玩家）。
- 如果扫射到达某个玩家且该玩家的护盾成功阻挡（见下方），则不造成伤害。
- 否则，目标失去 **1 点生命值**。
- 生命值为 0 = 被淘汰。
- 可摧毁方块（格子值 > 0）被扫射命中时，数值减 1。

## 护盾阻挡

护盾在朝向**攻击来源方向**时可以阻挡伤害——即扫射从哪个方向打来。

- 如果扫射**向上**行进（从下方打来），玩家的护盾必须朝**下**才能阻挡。
- 如果扫射**向下**行进（从上方打来），玩家的护盾必须朝**上**才能阻挡。
- 如果扫射**向右**行进（从左方打来），玩家的护盾必须朝**左**才能阻挡。
- 如果扫射**向左**行进（从右方打来），玩家的护盾必须朝**右**才能阻挡。

**简而言之：护盾方向必须与扫射行进方向相反才能阻挡。将护盾朝向攻击来源的方向。**

## 射击策略（T 字形站位）

由于**射击是 T 字形的**，最优站位需要理解垂直几何关系：

- 要命中目标，你不能直接瞄准他们。相反，你需要站位使得激光入射点的**垂直扫射线**经过目标所在的格子。
- 示例：如果敌人在 (3, 5)：
  - 站在 (3, 4) 执行 `shoot right` → 激光到 (3, 5) — **无效**（格子被敌人占据）。
  - 站在 (2, 5) 执行 `shoot down` → 激光到 (3, 5) — **无效**（格子被敌人占据）。
  - 站在 (4, 4) 执行 `shoot up` → 激光到 (3, 4)，向右扫射 → 命中 (3, 5) 的敌人。**有效！**
  - 站在 (4, 6) 执行 `shoot up` → 激光到 (3, 6)，向左扫射 → 命中 (3, 5) 的敌人。**有效！**
  - 站在 (2, 4) 执行 `shoot down` → 激光到 (3, 4)，向右扫射 → 命中 (3, 5) 的敌人。**有效！**

**核心要点：站在距离目标偏移一行/一列的位置，然后向垂直方向射击，用扫射线命中目标。**

## 方向参考

- `up`（上）= 行号减小（朝向第 0 行）
- `down`（下）= 行号增大（朝向最大行）
- `left`（左）= 列号减小（朝向第 0 列）
- `right`（右）= 列号增大（朝向最大列）
