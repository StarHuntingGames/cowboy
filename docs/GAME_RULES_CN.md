# Cow Boy 游戏规则

## 目标
成为**最后存活的玩家**。

## 玩家与地图
- 游戏支持 1–4 名玩家（可在创建游戏时配置，默认：2）：
  - 玩家 A（上方）
  - 玩家 B（左方）
  - 玩家 C（下方）
  - 玩家 D（右方）
- 玩家 A 由人类控制；其余为 AI 机器人。
- 地图为网格形式，包含：
  - `empty` 空格（玩家可以通过）
  - `block` 障碍物（玩家无法通过）
- 每位玩家的起始位置位于地图各边的中心格子（`up`、`left`、`down`、`right`）。

## 回合顺序
- 游戏采用回合制。
- 固定的行动顺序：
  - **Up -> Left -> Down -> Right**
- 每位玩家每回合执行一次行动。
- 所有玩家各行动一次后，开始新的一轮。

## 玩家属性
- 每位玩家拥有：
  - HP（默认：`10`）
  - 一面盾牌，朝向一个方向：`up`、`left`、`down` 或 `right`
  - 一把激光枪

## 行动（每回合一次）
- `move`（移动）
- `shield`（转盾）
- `shoot`（射击）

每个行动还需指定一个方向：`up`、`left`、`down`、`right`。

## 行动规则

### 1) 移动（`move`）
- 向所选方向移动恰好一格。
- 移动失败的情况：
  - 目标格子超出地图边界
  - 目标格子存在障碍物
  - 目标格子被其他玩家占据
- 移动失败不消耗回合。

### 2) 转盾（`shield`）
- 将盾牌朝向更改为以下方向之一：
  - `up`、`left`、`down`、`right`
- 此操作消耗回合。

### 3) 射击（`shoot`）
- 射手沿所选方向在直线上（行或列）发射激光。
- 激光在遇到第一个阻挡物时停止：
  - 第一个障碍物，或
  - 第一个玩家
- 一次射击最多影响一个目标。
- 玩家**不能向自己盾牌朝向的方向射击**。
  - 此为无效操作，不消耗回合。

## 盾牌与伤害规则
- 当射击命中一名玩家时：
  - 游戏会检查目标玩家的盾牌朝向。
  - 如果盾牌面向来袭方向，则射击被格挡，不会损失 HP。
  - 否则，目标损失 `1` 点 HP。
- 当 HP 降至 `0` 时，玩家被淘汰。

## 障碍物强度规则
- 障碍物具有强度值：
  - `-1` 表示不可摧毁（永远阻挡）
  - `N > 0` 表示可摧毁
- 每次可摧毁的障碍物被射击时：
  - 强度减少 1
  - 当强度降至 0 时，障碍物被摧毁，该格子变为空格

## 胜利条件
- 当场上只剩一名玩家存活时，比赛结束。
- 该玩家获胜。

## 如何在此界面中游玩
- 在浏览器中打开 `http://localhost:8000`。
- 点击 **New** 创建游戏，然后点击 **Start** 开始。
- 轮到你的回合时（玩家 A），选择指令和方向，然后点击 **Execute**。
- 机器人玩家（B/C/D）通过 LLM 驱动的 AI 自动行动。
